<script type="text/html" data-help-name="nextcloud-info">
  <p>Nextcloud external monitoring tool node let <b>Administrators</b> get information from <a href="https://github.com/nextcloud/serverinfo" target="_new">Nextcloud</a> instance.</p>
  <h3>Input</h3>
  <dl class="message-properties">
  	<dt><i>ncurl</i> <span class="property-type">url-string</span></dt>
  	<dd>Nextcloud external monitoring tool endpoint URL of your nextcloud instance. <code>ncurl</code> input value must be a complete http/https address url <br>e.g. <pre>https://nextcloud.example.com/ocs/v2.php/apps/serverinfo/api/v1/info</pre> <b>This node accepts Self Signed Certs also, use at your own risk</b>. The input is used instead of editor panel field's value when specified.<br> <b>Other Nextcloud Endpoint: </b>in addition to monitor api path url (/ocs/v2.php/apps/serverinfo/api/v1/info) you can use other nextcloud endpoint url to get information on users, notifications (notification app must be installed and enabled on nextcloud instance), capabilities.<br> to get <a href="https://docs.nextcloud.com/server/latest/developer_manual/client_apis/OCS/ocs-api-overview.html#user-metadata-list-user-ids" target="_new">USER-ID list</a>: <b>/ocs/v1.php/cloud/users</b><br>e.g.<pre>https://nextcloud.example.com/ocs/v1.php/cloud/users</pre>to get info on <a href="https://docs.nextcloud.com/server/latest/developer_manual/client_apis/OCS/ocs-api-overview.html#user-metadata" target="_new">specific user</a>: <b>/ocs/v1.php/cloud/users/[USER-ID]</b><br>e.g.<pre>https://nextcloud.example.com/ocs/v1.php/cloud/users/smith</pre>to get server <a href="https://docs.nextcloud.com/server/latest/developer_manual/client_apis/OCS/ocs-api-overview.html#capabilities-api" target="_new">capabilities</a>: <b>/ocs/v1.php/cloud/capabilities</b><br>e.g.<pre>https://nextcloud.example.com/ocs/v1.php/cloud/capabilities</pre> in addition <a href="https://docs.nextcloud.com/server/latest/developer_manual/core/externalapi.html" target="_new">External App API</a> are available. If notifications app is installed and enabled on nextcloud instance every standard user and admin can query the <a href="https://docs.nextcloud.com/server/latest/developer_manual/client_apis/OCS/ocs-api-overview.html#notifications" target="_new">external notifications API</a>: <b>/ocs/v2.php/apps/notifications/api/v2/notifications</b><br>e.g.<pre>https://nextcloud.example.com/ocs/v2.php/apps/notifications/api/v2/notifications</pre></dd>
  	<dt><i>ncproperty</i> <span class="property-type">string</span></dt>
  	<dd>Name of property containing object info result. <code>ncproperty</code> input value must be a valid msg property name: only one alphanumeric word with dash and/or underscore. On validation failure default name property will be used. Valid input is used instead of editor panel field's value when specified. Default name property is <pre>payload</pre></dd>
  </dl>
  <h3>Output</h3>
  <dl class="message-properties">
  	<dt><i>payload</i> <span class="property-type">object</span></dt>
  	<dd>Output is available in payload property when not otherwise specified (by <code>msg.ncproperty</code> input or in the editor). Output results may vary depending on endpoint used, for example, query ServerInfo API outputs three(3) main properties: nextcloud, server, activeUsers</dd>
  </dl>
</script>
